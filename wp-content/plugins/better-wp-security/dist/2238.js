"use strict";(globalThis.itsecWebpackJsonP=globalThis.itsecWebpackJsonP||[]).push([[2238],{52238:(e,t,n)=>{n.d(t,{NL:()=>X,v7:()=>B,iI:()=>I,VS:()=>he,g8:()=>Z,uD:()=>ue,wU:()=>D,VK:()=>_e,Mf:()=>me,KH:()=>_,Yq:()=>R,nc:()=>y,KK:()=>K,PH:()=>J,Ir:()=>G});var s=n(64467),i=n(51609),a=n(8601),r=n(39959),l=n(3075);a.Component;var o=n(62932),c=n(46942),d=n.n(c),m=n(66087),h=n(89897);function p({id:e,isVisible:t,children:n}){return(0,i.createElement)("div",{className:"itsec-site-scan__details",id:e,style:{display:t?"block":"none"}},(0,i.createElement)("ul",null,n))}function u({type:e,status:t,description:n,children:s}){const o=(0,h.useInstanceId)(u),[c,b]=(0,a.useState)(!1);let g;switch(t){case"clean":g=(0,l.__)("Clean","better-wp-security");break;case"warn":g=(0,l.__)("Warn","better-wp-security");break;case"error":g=(0,l.__)("Error","better-wp-security");break;default:g=t}const f=(0,i.createElement)("span",{className:`itsec-site-scan__status itsec-site-scan__status--${t}`},g);return(0,i.createElement)("div",{className:d()("itsec-site-scan-results-section",`itsec-site-scan-results-${e}-section`)},(0,m.isEmpty)(s)?(0,i.createElement)("p",null,f," ",n):(0,i.createElement)(a.Fragment,null,(0,i.createElement)("p",null,f,n,(0,i.createElement)(r.Button,{variant:"link",className:"itsec-site-scan-toggle-details",onClick:()=>b(!c),"aria-expanded":c,"aria-controls":`itsec-site-scan__details--${o}`},c?(0,l.__)("Hide Details","better-wp-security"):(0,l.__)("Show Details","better-wp-security"))),(0,i.createElement)(p,{id:`itsec-site-scan__details--${o}`,isVisible:c},s)))}const b=function({results:e,showErrorDetails:t=!1}){const n=e;return(0,i.createElement)(u,{status:"error",description:(0,l.__)("The scan failed to properly scan the site.","better-wp-security")},(0,i.createElement)("p",null,(0,l.sprintf)((0,l.__)("Error Message: %s","better-wp-security"),n.getErrorMessage())),(0,i.createElement)("p",null,(0,l.sprintf)((0,l.__)("Error Code: %s","better-wp-security"),n.getErrorCode())),t&&n.getErrorData()&&(0,i.createElement)(a.Fragment,null,(0,i.createElement)("p",null,(0,l.__)("If you contact support about this error, please provide the following debug details:","better-wp-security")),(0,i.createElement)("pre",null,JSON.stringify({code:n.getErrorCode(),data:n.getErrorData()},null,2))))};function g({status:e,children:t}){return(0,i.createElement)("li",{className:`itsec-site-scan__detail itsec-site-scan__detail--${e}`},(0,i.createElement)("span",null,t))}const f=function({results:e}){return e.errors.length>0&&(0,i.createElement)(u,{type:"system-error",status:"error",description:(0,l.__)("The scan failed to properly scan the site.","better-wp-security")},e.errors.map(((e,t)=>(0,i.createElement)(g,{key:t,status:"error"},e.message))))},E=function({results:e,entry:t}){let n=(0,m.get)(e,["_embedded","ithemes-security:site-scan-issues",0],[]);return(0,m.isArray)(n)||(n=[]),(0,i.createElement)(u,{type:"malware",status:t.status,description:t.title},n.filter((e=>e.entry===t.slug)).map(((e,t)=>(0,i.createElement)(g,{key:t,status:e.status},(0,i.createElement)("a",{href:e.link},e.description)))))},y=function({results:e,showSiteUrl:t=!0,showErrorDetails:n=!0}){const s=e.url;let r;return(0,o.KK)(e)?r=(0,o.n7)(e):"error"===e.code&&(r=(0,o.n7)(e.errors[0])),(0,i.createElement)("div",{className:"itsec-site-scan-results"},t&&s&&(0,i.createElement)("h4",null,(0,l.sprintf)((0,l.__)("Site: %s","better-wp-security"),s)),r?(0,i.createElement)(b,{results:r,showErrorDetails:n}):(0,i.createElement)(a.Fragment,null,(0,i.createElement)(f,{results:e}),e.entries.map(((t,n)=>(0,i.createElement)(E,{results:e,entry:t,key:n})))))};function _({json:e}){return(0,i.createElement)("pre",{className:"itsec-component-print-r"},v((0,m.cloneDeep)(e)))}function v(e,t=10,n=0,s=!0){if((0,m.isString)(e))return 0===e.length?(0,i.createElement)("strong",null,"[empty string]"):e;if((0,m.isNumber)(e))return(0,i.createElement)("strong",null,`[number] ${e}`);if((0,m.isBoolean)(e))return(0,i.createElement)("strong",null,e?"[boolean] true":"[boolean] false");if(null==e)return(0,i.createElement)("strong",null,"null");if((0,m.isArray)(e)||(0,m.isPlainObject)(e)){const r=[];if(s&&r.push((0,i.createElement)("strong",{key:"header"},"Array")),0===(0,m.size)(e))return r.push("()"),r;if(n===t)return r.push(`(${e.length})`),r;let l=0;for(const t of(0,m.keys)(e))t.length>l&&(l=t.length);const o=N(n);return(0,m.forEach)(e,((e,s)=>{r.push((0,i.createElement)(a.Fragment,{key:s},"\n",o,s,N(l-(0,m.toString)(s).length," "),"  ",(0,i.createElement)("strong",null,"=>")," ",v(e,t,n+1)))})),r}return(0,i.createElement)("strong",null,"[*]")}function N(e,t="    "){let n="";for(let s=0;s<=e;s++)n+=t;return n}n(9542);var k=n(58168);function I({value:e,onChange:t,options:n,label:s,help:a,disabled:l,readOnly:o,className:c,style:h,hideLabelFromVision:p}){let u,b;return(0,m.isArray)(e)?(u=t=>e.includes(t.value),b=n=>s=>t(s?[...e,n.value]:e.filter((e=>e!==n.value)))):(u=t=>e[t.value]||!1,b=n=>s=>t({...e,[n.value]:s})),(0,i.createElement)("fieldset",{className:d()("components-base-control",c,h&&`itsec-components-checkbox-group-control--style-${h}`)},(0,i.createElement)("div",{className:"components-base-control__field"},p&&(0,i.createElement)(r.VisuallyHidden,null,s),!p&&(0,i.createElement)("legend",{className:"components-base-control__label"},s),a&&(0,i.createElement)("p",{className:"components-base-control__help"},a),(0,i.createElement)("div",{className:"itsec-components-checkbox-group-control__options"},n.map((e=>(0,i.createElement)(r.CheckboxControl,(0,k.A)({},(0,m.omit)(e,["value","disabled","readOnly"]),{key:e.value,checked:u(e),onChange:b(e),disabled:l||e.disabled,readOnly:o||e.readOnly,className:u(e)&&"itsec-components-checkbox-group-control__option--is-checked",__nextHasNoMarginBottom:!0})))))))}var w=n(98616),C=n.n(w);class S{constructor(e,t,n,i=null,a=[]){(0,s.A)(this,"tree",void 0),(0,s.A)(this,"name",void 0),(0,s.A)(this,"data",void 0),(0,s.A)(this,"parent",void 0),(0,s.A)(this,"children",void 0),this.tree=e,this.name=t,this.data=n,this.parent=i,this.children=a}getParent(){return this.parent?this.tree.nodes[this.parent]:null}getAllParents(){const e=[];let t=this.getParent();for(;t;)e.push(t.name),t=t.getParent();return e}hasChildren(){return this.children.length>0}getAllChildren(){const e=[];if(!this.hasChildren())return e;for(const t of this)e.push(t.name,...t.getAllChildren());return e}*[Symbol.iterator](){for(let e=0;e<this.children.length;e++){const t=this.children[e];yield this.tree.nodes[t]}}}class T{constructor(){(0,s.A)(this,"nodes",{}),(0,s.A)(this,"ordered",[])}add(e,t,n=null){this.ordered.push(e),this.nodes[e]?(this.nodes[e].data=t,this.nodes[e].parent=n):this.nodes[e]=new S(this,e,t,n),n&&(this.nodes[n]?this.nodes[n].children.push(e):this.nodes[n]=new S(this,n))}*[Symbol.iterator](){for(let e=0;e<this.ordered.length;e++){const t=this.ordered[e];this.nodes[t].parent||(yield this.nodes[t])}}}const A=C()((e=>{const t=new T;for(const n of e)t.add(n.value,n,n.parent);return t}));class L extends a.Component{constructor(){super(...arguments),(0,s.A)(this,"props",void 0),this.renderOption=this.renderOption.bind(this),this.isChecked=this.isChecked.bind(this),this.isIndeterminate=this.isIndeterminate.bind(this),this.onChange=this.onChange.bind(this)}indeterminate(e){e.indeterminate=!0}isChecked(e){return!!e&&((0,m.isArray)(this.props.value)?this.props.value.includes(e.name)||this.isChecked(e.getParent()):this.props.value[e.name]||this.isChecked(e.getParent()))}isIndeterminate(e){if(!e.hasChildren())return!1;for(const t of e){if(this.isChecked(t))return!0;if(this.isIndeterminate(t))return!0}return!1}onChange(e,t){const n=[e.name,...e.getAllChildren()],s=t?[]:e.getAllParents();if((0,m.isArray)(this.props.value)){let e;e=t?[...this.props.value,...n]:this.props.value.filter((e=>!n.includes(e)&&!s.includes(e))),this.props.onChange(e)}else this.props.onChange({...this.props.value,...n.reduce(((e,n)=>e[n]=t),{}),...s.reduce(((e,t)=>e[t]=!1),{})})}render(){const{label:e,help:t,options:n}=this.props,s=A(n);return(0,i.createElement)("div",{className:"components-base-control"},(0,i.createElement)("div",{className:"components-base-control__field"},(0,i.createElement)("div",{className:"components-base-control__label"},e),t&&(0,i.createElement)("p",{className:"components-base-control__help"},t)),(0,i.createElement)("ul",{className:"components-hierarchical-checkbox-control__group"},Array.from(s,this.renderOption)))}renderOption(e){const{value:t,selectable:n=!0,...s}=e.data,a=this.isChecked(e),l=!a&&this.isIndeterminate(e);return(0,i.createElement)("li",{key:t,className:d()("components-hierarchical-checkbox-control__option",{"components-hierarchical-checkbox-control__option--has-children":e.hasChildren()})},(0,i.createElement)(r.CheckboxControl,(0,k.A)({},s,{checked:!!n&&a,disabled:!n||this.props.disabled,indeterminate:l,onChange:t=>this.onChange(e,t)})),e.hasChildren()&&(0,i.createElement)("ul",{className:"components-hierarchical-checkbox-control__group"},Array.from(e,this.renderOption)))}}const D=L;var x=n(31987);(0,h.compose)([(0,x.withSelect)(((e,{context:t="ithemes-security"})=>({notices:e("core/notices").getNotices(t)}))),(0,x.withDispatch)(((e,{context:t="ithemes-security"})=>({onRemove:n=>e("core/notices").removeNotice(n,t)})))])((function({notices:e,onRemove:t}){const n=(0,m.filter)(e,(e=>e.isDismissible&&(!e.type||"default"===e.type))),s=(0,m.filter)(e,(e=>!(e.isDismissible||e.type&&"default"!==e.type))),l=(0,m.filter)(e,{type:"snackbar"});return(0,i.createElement)(a.Fragment,null,(0,i.createElement)(r.NoticeList,{notices:s,className:"components-editor-notices__pinned"}),(0,i.createElement)(r.NoticeList,{notices:n,className:"components-editor-notices__dismissible",onRemove:t}),r.SnackbarList&&(0,i.createElement)(r.SnackbarList,{notices:l,className:"components-editor-notices__snackbar",onRemove:t}))}));const O=function({className:e,status:t,children:n,onRemove:s=m.noop,isDismissible:a=!0,actions:o=[]}){const c=d()(e,"notice","notice-alt","notice-"+t,{"is-dismissible":a});return(0,i.createElement)("div",{className:c},(0,i.createElement)("p",null,n,o.map((({className:e,label:t,onClick:n,url:a,isLink:l=!1},o)=>(0,i.createElement)(r.Button,{key:o,href:a,isSmall:!l&&!a,variant:(a||l)&&"link",onClick:a?void 0:()=>{s(),n()},className:d()("notice__action",e)},t)))),a&&(0,i.createElement)("button",{type:"button",className:"notice-dismiss",onClick:s},(0,i.createElement)("span",{className:"screen-reader-text"},(0,l.__)("Dismiss this notice","better-wp-security"))))};(0,h.compose)([(0,x.withSelect)(((e,{context:t="ithemes-security"})=>({notices:e("core/notices").getNotices(t)}))),(0,x.withDispatch)(((e,{context:t="ithemes-security"})=>({onRemove:n=>e("core/notices").removeNotice(n,t)})))])((function({notices:e,onRemove:t}){const n=function(e){if(!r.SnackbarList)return e.length;let t=0;for(const n of e)"snackbar"!==n.type&&t++;return t}(e),s=function(e){const t=(0,a.useRef)();return(0,a.useEffect)((()=>{t.current=e})),t.current}(n);(0,a.useEffect)((()=>{n>s&&window.itsecSettingsPage&&window.itsecSettingsPage.scrollTop()}),[n,s]);const l=r.SnackbarList?(0,m.filter)(e,{type:"snackbar"}):[];return(0,i.createElement)(a.Fragment,null,(0,i.createElement)("div",{className:"itsec-module-settings-notice-list"},e.map((e=>{return"snackbar"===e.type&&r.SnackbarList?null:(0,i.createElement)(O,(0,k.A)({},(0,m.omit)(e,["content"]),{key:e.id,onRemove:(n=e.id,()=>t(n))}),e.content);var n}))),r.SnackbarList&&(0,i.createElement)(r.SnackbarList,{notices:l,className:"components-editor-notices__snackbar",onRemove:t}))}));var P=n(57677),H=n(28351),M=n(74596);function B({id:e,label:t,hideLabelFromVision:n,className:s,heading:a,checked:l,help:o,onChange:c,indeterminate:m,...p}){const u=(0,h.useInstanceId)(B);return e=e||`itsec-inspector-checkbox-control-${u}`,(0,i.createElement)(r.BaseControl,{label:a,id:e,help:o,className:d()("components-checkbox-control",s)},(0,i.createElement)("span",{className:"components-checkbox-control__input-container"},(0,i.createElement)("input",(0,k.A)({id:e,className:d()("components-checkbox-control__input",{"components-checkbox-control__input--indeterminate":m}),type:"checkbox",value:"1",onChange:e=>c(e.target.checked),checked:l,"aria-describedby":o?e+"__help":void 0},p,{ref:e=>e&&(e.indeterminate=m)})),l&&(0,i.createElement)(P.A,{icon:H.A,className:"components-checkbox-control__checked",role:"presentation"}),m&&(0,i.createElement)(P.A,{icon:M.A,className:"components-checkbox-control__checked",role:"presentation"})),t&&(n?(0,i.createElement)(r.VisuallyHidden,{as:"label",htmlFor:e},t):(0,i.createElement)("label",{className:"components-checkbox-control__label",htmlFor:e},t)))}function R({help:e,label:t,multiple:n=!1,onChange:s,options:a=[],className:l,hideLabelFromVision:o,__nextHasNoMarginBottom:c,...d}){const p=`inspector-select-control-${(0,h.useInstanceId)(R)}`,u=(0,m.groupBy)(a,"optgroup");return!(0,m.isEmpty)(a)&&(0,i.createElement)(r.BaseControl,{label:t,hideLabelFromVision:o,id:p,help:e,className:l,__nextHasNoMarginBottom:c},(0,i.createElement)("select",(0,k.A)({id:p,className:"components-select-control__input",onChange:e=>{if(n){const t=[...e.target.options].filter((({selected:e})=>e)).map((({value:e})=>e));s(t)}else s(e.target.value)},"aria-describedby":e?`${p}__help`:void 0,multiple:n},d),(0,m.map)(u,((e,t)=>{const n=e.map(((e,t)=>(0,i.createElement)("option",{key:`${e.label}-${e.value}-${t}`,value:e.value,disabled:e.disabled},e.label)));return"undefined"===t?n:(0,i.createElement)("optgroup",{label:t,key:t},n)}))))}function K({value:e,onChange:t,...n}){(0,m.isArray)(e)||(e=(0,m.isString)(e)?[e]:[]);const[s,l]=(0,a.useState)(e.join("\n"));return e.join("\n").trim()!==s.trim()&&l(e.join("\n")),(0,i.createElement)(r.TextareaControl,(0,k.A)({value:s,onChange:e=>{l(e),t(e.split("\n").map((e=>e.trim())).filter((e=>e.length>0)))}},n))}function $({tabId:e,onClick:t,children:n,selected:s,...a}){return(0,i.createElement)(r.Button,(0,k.A)({role:"tab",tabIndex:s?null:-1,"aria-selected":s,id:e,onClick:t},a),n)}class F extends a.Component{constructor(){super(...arguments),this.handleClick=this.handleClick.bind(this),this.onNavigate=this.onNavigate.bind(this),this.onKeyDown=this.onKeyDown.bind(this)}handleClick(e){const{onSelect:t=m.noop}=this.props;t(e)}onNavigate(e,t){const n=this.event;n&&"tab"===n.target.getAttribute("role")&&n.preventDefault(),t.click()}onKeyDown(e){this.event=e}render(){const{activeClass:e="is-active",className:t,instanceId:n,orientation:s="horizontal",tabs:a,selected:l,isStyled:o}=this.props,c=(0,m.find)(a,{name:l})||a[0],h=n+"-"+c.name;return(0,i.createElement)("div",{className:d()("itsec-tab-panel",t,{"itsec-tab-panel--styled":o})},(0,i.createElement)(r.NavigableMenu,{role:"tablist",orientation:s,onNavigate:this.onNavigate,onKeyDown:this.onKeyDown,className:"components-tab-panel__tabs"},a.map((t=>(0,i.createElement)($,{className:d()("itsec-tab-panel__tab",t.className,{[e]:t.name===c.name}),tabId:n+"-"+t.name,"aria-controls":n+"-"+t.name+"-view",selected:t.name===c.name,key:t.name,onClick:(0,m.partial)(this.handleClick,t.name)},t.title)))),c&&(0,i.createElement)("div",{"aria-labelledby":h,role:"tabpanel",id:h+"-view",className:"components-tab-panel__tab-content",tabIndex:"0"},this.props.children(c)))}}(0,h.withInstanceId)(F);var V=n(62247),z=n.n(V),j=n(98883);class U extends a.Component{constructor(){super(...arguments),this.handleClick=this.handleClick.bind(this),this.onNavigate=this.onNavigate.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.toggleTab=this.toggleTab.bind(this),this.getSelectedTabs=this.getSelectedTabs.bind(this),this.isSelected=this.isSelected.bind(this),this.getSelectedId=this.getSelectedId.bind(this),this.getLabelledBy=this.getLabelledBy.bind(this),this.getTabId=this.getTabId.bind(this),this.getTabPanelId=this.getTabPanelId.bind(this),this.isTabDisabled=this.isTabDisabled.bind(this),this.isNonMultiSelectableTabSelected=this.isNonMultiSelectableTabSelected.bind(this)}handleClick(e,t){t.metaKey||t.ctrlKey?this.toggleTab(e):this.props.onSelect([e])}onNavigate(e,t){const n=this.event;if(n){if("tab"===n.target.getAttribute("role")&&n.preventDefault(),n.ctrlKey)return;if(n.shiftKey){if(this.isTabDisabled(this.props.tabs[e]))return;const t=this.props.tabs[e].name;return void this.toggleTab(t)}}t.click()}onKeyDown(e){if(!e.nativeEvent&&(this.event=e,e.ctrlKey&&("Space"===e.code||32===e.keyCode))){e.preventDefault();const t=e.target.dataset.tabname;t&&this.toggleTab(t)}}toggleTab(e){const t=(0,m.find)(this.props.tabs,{name:e});t&&!1===t.allowMultiple||(this.props.selected.includes(e)?this.props.onSelect(this.props.selected.filter((t=>t!==e))):this.props.onSelect([...this.props.selected,e]))}getSelectedTabs(){const e=this.props.selected;!e.length&&this.props.initialTab&&e.push(this.props.initialTab);const t=[];return this.props.tabs.forEach((e=>{this.props.selected.includes(e.name)&&t.push(e)})),t}isSelected(e,t){return e.some((e=>e.name===t.name))}isTabDisabled(e){const{pressedModifierKeys:t}=this.props;if(this.props.selected.includes(e.name))return!1;if(!1!==e.allowMultiple&&!this.isNonMultiSelectableTabSelected())return!1;if(t.meta||t.ctrl)return!0;if(t.shift){const{activeElement:e}=document;if(e.parentElement&&e.parentElement.id===`components-tab-panel__tabs-${this.props.instanceId}`)return!0}return!1}isNonMultiSelectableTabSelected(){if(1!==this.props.selected.length)return!1;const e=(0,m.find)(this.props.tabs,{name:this.props.selected[0]});return e&&!1===e.allowMultiple}getSelectedId(e){return 1===e.length?this.getTabPanelId(e[0].name):`components-tab-panel__panel-${this.props.instanceId}-${(0,m.map)(e,"name").join("-")}`}getLabelledBy(e){return e.map((e=>this.getTabId(e.name))).join(",")}getTabId(e){return`components-tab-panel__tab-${this.props.instanceId}-${e}`}getTabPanelId(e){return`components-tab-panel__panel-${this.props.instanceId}-${e}`}componentDidUpdate(e){if(1!==this.props.selected.length)return;if(!z()(this.props.selected,e.selected))return;const t=this.props.selected[0];if((0,m.find)(this.props.tabs,{name:t}))return;const n=(0,m.findIndex)(e.tabs,{name:t});if(-1===n)return;const s=Math.max(n-1,0),i=this.props.tabs[s];i&&this.props.onSelect([i.name])}render(){const{tabs:e,className:t,activeClass:n="is-active",orientation:s="horizontal"}=this.props,a=this.getSelectedTabs(),l=this.getSelectedId(a);return(0,i.createElement)("div",{className:t},(0,i.createElement)(r.NavigableMenu,{role:"tablist","aria-multiselectable":!0,orientation:s,onNavigate:this.onNavigate,onKeyDown:this.onKeyDown,className:"components-tab-panel__tabs",id:`components-tab-panel__tabs-${this.props.instanceId}`},e.map((e=>{const t=this.isSelected(a,e),s=t&&a.length>1?l:this.getTabPanelId(e.name);return(0,i.createElement)($,{className:d()(e.className,{[n]:t}),tabId:this.getTabId(e.name),"aria-controls":s,selected:t,disabled:this.isTabDisabled(e),key:e.name,onClick:(0,m.partial)(this.handleClick,e.name),"data-tabname":e.name},e.title)}))),a.length>0&&(0,i.createElement)("div",{"aria-labelledby":this.getLabelledBy(a),role:"tabpanel",id:l,className:"components-tab-panel__tab-content",tabIndex:"0"},this.props.children(a)))}}(0,h.compose)([h.withInstanceId,j.wl])(U),a.Component;var W=n(70404),q=n(79860);function G(e,t,n=void 0){for(let s=0;s<e.length;s++){const i=t(e[s],n,s);if(i!==G.skip){if(i===G.halt)return i;if((0,m.isArray)(e[s].children)&&G.halt===G(e[s].children,t,e[s]))return G.halt}}}function J({id:e,tree:t,active:n,setActive:s,onActivate:l,onLoad:o,label:c,help:d,...m}){const h=(0,a.useRef)(),p=(0,a.useMemo)((()=>{const e={};return G(t,((t,n,s)=>{e[t.id]={item:t,index:s,parent:n?.id}})),e}),[t]),[u,b]=(0,a.useState)([]),[g,f]=(0,a.useState)([]),E=e+"__item__",y=async e=>{!0===e.children&&o&&(f((t=>[...t,e.id])),await o(e.id),f((t=>t.filter((t=>t!==e.id))))),b((t=>t.includes(e.id)?t.filter((t=>t!==e.id)):[...t,e.id]))};return(0,i.createElement)(r.BaseControl,{help:d,className:"itsec-tree"},(0,i.createElement)("span",{className:"components-base-control__label",id:e+"__tree_label"},c),(0,i.createElement)("ul",(0,k.A)({ref:h,id:e,role:"tree",tabIndex:0,onKeyDown:async e=>{m.onKeyDown&&m.onKeyDown(e);const{keyCode:i}=e;if(l&&[q.ENTER,q.SPACE].includes(i)&&l(n),![q.UP,q.DOWN,q.RIGHT,q.LEFT].includes(i))return;e.stopPropagation(),e.preventDefault();const a=p[n];if(!a)return void s(t[0].id);const{item:r,parent:o}=a;let c;switch(i){case q.UP:c=function(e,t,n){let s;return G(e,(e=>e.id===t?G.halt:(s=e,!1===e.children||n.includes(e.id)?void 0:G.skip))),s}(t,r.id,u)?.id;break;case q.DOWN:c=function(e,t,n){let s,i=!1;return G(e,(e=>(s=e,i?G.halt:(e.id===t&&(i=!0),!1===e.children||n.includes(e.id)?void 0:G.skip)))),s}(t,r.id,u)?.id;break;case q.RIGHT:r.children&&(u.includes(r.id)?c=r.children?.[0].id:await y(r));break;case q.LEFT:r.children&&u.includes(r.id)?await y(r):c=o}if(c&&(s(c),h.current)){const e=h.current.ownerDocument.getElementById(E+c);e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():(0,W.A)(e,{scrollMode:"if-needed"})}},onFocus:n?void 0:()=>s(t[0].id),"aria-activedescendant":n?E+n:void 0,"aria-labelledby":e+"__tree_label"},m),t.map((e=>(0,i.createElement)(Y,{key:e.id,idBase:E,active:n,setActive:s,expandedIds:u,onToggle:y,loadingIds:g,item:e})))))}function Y(e){const{idBase:t,item:n,expandedIds:s,loadingIds:a,onToggle:r,active:l,setActive:o}=e,c=!!n.children,m=s.includes(n.id);return(0,i.createElement)("li",{id:t+n.id,role:"treeitem","aria-selected":l===n.id?"true":void 0,"aria-expanded":c?m:void 0,className:d()("itsec-tree__item",{"itsec-tree__item--loading":a.includes(n.id)})},(0,i.createElement)("span",{onClick:async()=>{await r(n),o(n.id)},"aria-label":n.label},n.label),c&&n.children.length>0&&(0,i.createElement)("ul",{role:"group"},n.children.map((t=>(0,i.createElement)(Y,(0,k.A)({key:t.id},e,{item:t}))))))}G.halt=Symbol("halt"),G.skip=Symbol("skip");const Q=["group","treeitem","option","menuitem","tab"].join(" "),X=(0,a.forwardRef)((function({active:e,onKeyDown:t=m.noop,onNavigate:n,orientation:s="vertical",cycle:r=!0,descendantRoles:l=Q,as:o="div",children:c,...d},h){const p=(0,a.useRef)();return(0,a.useImperativeHandle)(h,(()=>({focus(){p.current.focus()}}))),(0,i.createElement)(o,(0,k.A)({ref:p,tabIndex:0,"aria-activedescendant":e,"aria-orientation":s,onKeyDown:i=>{const a=function(e,t){let n=[q.DOWN],s=[q.UP];return"horizontal"===t&&(n=[q.RIGHT],s=[q.LEFT]),"both"===t&&(n=[q.RIGHT,q.DOWN],s=[q.LEFT,q.UP]),(0,m.includes)(n,e)?1:(0,m.includes)(s,e)?-1:(0,m.includes)([q.DOWN,q.UP,q.LEFT,q.RIGHT],e)?0:void 0}(i.keyCode,s);if(t(i,a),void 0===a)return;i.stopPropagation(),i.preventDefault();const o=function(e,t){const n=t.split(" ").map((e=>`[role="${e}"]`)).join(", ");return e.querySelectorAll(n)}(p.current,l),c=(0,m.findIndex)(o,{id:e}),d=r?function(e,t,n){const s=e+n;return s<0?t+s:s>=t?s-t:s}(c,o.length,a):c+a;if(d>=0&&d<o.length){const e=o[d];!function(e,t){if(t.scrollIntoViewIfNeeded)return void t.scrollIntoViewIfNeeded();const n=e.ownerDocument.defaultView.getComputedStyle(e),s=parseInt(n.getPropertyValue("border-top-width")),i=t.offsetTop-e.offsetTop<e.scrollTop,a=t.offsetTop-e.offsetTop+t.clientHeight-s>e.scrollTop+e.clientHeight;(i||a)&&(e.scrollTop=t.offsetTop-e.offsetTop-e.clientHeight/2-s+t.clientHeight/2,e.scrollLeft=0)}(p.current,e),n(e.id)}}},d),c)}));function Z(){return(0,i.createElement)("div",{style:{flexGrow:1},"aria-hidden":!0,className:"itsec-component-flex-spacer"})}var ee=n(81923);const te=(0,ee.A)(r.Dashicon,{shouldForwardProp:e=>"size"!==e&&"padding"!==e,target:"e18ui1vf0"})("border-radius:50%;font-size:calc(",(({size:e})=>e)," - (",(({padding:e})=>e)," * 2));padding:",(({padding:e})=>e),";padding-left:calc(",(({padding:e})=>e)," + 0.5px);background:",(({theme:e})=>e.colors.primary.base),";color:#ffffff;");function ne({size:e=20,className:t}){const n=`var(--itsec-recommended-icon-size, ${"number"==typeof e?`${e}px`:e})`,s=`calc(${n} / 5)`;return(0,i.createElement)(te,{className:t,icon:"star-filled",size:n,padding:s})}const se={error:{primary:"#551515",secondary:"#F7ABAB",icon:"warning"},info:{primary:"#005169",secondary:"#ecfaff",icon:"info"},warning:{primary:"#a9582e",secondary:"#fdddcd",icon:"flag"},success:{primary:"#237739",secondary:"#ddf1e2",icon:"yes-alt"}},ie=(0,ee.A)("div",{target:"emrfwy26"})("display:flex;padding:.75rem .5rem;border-radius:4px;margin-bottom:",(({noMargins:e})=>!e&&"1rem"),";background:",(({type:e})=>se[e].secondary),";border:",(({type:e,hasBorder:t})=>t&&`1px solid ${se[e].primary}`),";"),ae=(0,ee.A)("h3",{target:"emrfwy25"})("font-size:1.25rem;margin:0 0 0.5rem 0;color:",(({type:e})=>se[e].primary),";"),re=(0,ee.A)(r.Dashicon,{shouldForwardProp:e=>"type"!==e,target:"emrfwy24"})("color:",(({type:e})=>se[e].primary),";margin-right:0.5rem;"),le=(0,ee.A)(ne,{target:"emrfwy23"})({name:"u7ytkp",styles:"margin-right:0.5rem"}),oe=(0,ee.A)("ul",{target:"emrfwy22"})({name:"ti75j2",styles:"margin:0"}),ce=(0,ee.A)("li",{target:"emrfwy21"})("margin:0 0 0.25rem 0;color:",(({type:e})=>se[e].primary),";&:last-child{margin-bottom:0;}"),de=(0,ee.A)(r.Button,{shouldForwardProp:e=>"type"!==e,target:"emrfwy20"})("margin-left:auto;padding:0!important;min-width:0!important;min-height:0!important;height:min-content!important;&:hover{color:",(({theme:e})=>e.colors.primary.base),";}.dashicon{color:",(({type:e})=>se[e].primary),";margin-left:0;margin-right:0;&:hover{color:",(({theme:e})=>e.colors.primary.base),";}}");function me({type:e="info",title:t,messages:n=[],className:s,onDismiss:a,hasBorder:r,recommended:l,noMargins:o}){return(n=(0,m.castArray)(n)).length?(0,i.createElement)(ie,{type:e,hasBorder:r,recommended:l,noMargins:o,className:d()("itsec-message-list",`itsec-message-list--type-${e}`,s)},l?(0,i.createElement)(le,null):(0,i.createElement)(re,{icon:se[e].icon,type:e}),(0,i.createElement)("div",null,t&&(0,i.createElement)(ae,null,t),(0,i.createElement)(oe,null,n.map(((t,n)=>(0,i.createElement)(ce,{key:n,type:e},t))))),a&&(0,i.createElement)(de,{icon:"dismiss",type:e,onClick:a})):null}function he({errors:e,apiError:t,schemaError:n,title:s,className:a,hasBorder:r,noMargins:l}){const c=[...e||[],...(0,o.Mr)(t),...(n||[]).map((e=>e.stack))];return c.length?(0,i.createElement)(me,{messages:c,title:s,className:a,hasBorder:r,noMargins:l,type:"error"}):null}var pe=n(46627);function ue({topic:e,fallback:t}){const n=(0,x.useSelect)((e=>e(pe.HELP_STORE_NAME).isEnabled()));return void 0===n?null:n?(0,i.createElement)(ge,{topic:e,fallback:t}):(0,i.createElement)(be,null)}function be(){const[e,t]=(0,a.useState)(!0),[n,s]=(0,a.useState)(!1),{enableHelp:o}=(0,x.useDispatch)(pe.HELP_STORE_NAME);return e&&(0,i.createElement)(r.Modal,{title:(0,l.__)("Privacy Notice","better-wp-security"),onRequestClose:()=>t(!1),className:"itsec-help-list__enable-modal"},(0,i.createElement)("p",null,(0,l.__)("Loading help remotely requires making an API request to iThemes.com. Only the requested help topic is transmitted.","better-wp-security")),(0,i.createElement)("footer",null,(0,i.createElement)("a",{href:"https://go.solidwp.com/privacy-policy"},(0,l.__)("Privacy Policy","better-wp-security")),(0,i.createElement)(r.Button,{isBusy:n,onClick:async()=>{s(!0),await o(),s(!1)},variant:"primary"},(0,l.__)("Continue","better-wp-security"))))}function ge({topic:e,fallback:t}){const{help:n,isLoaded:s,fallbackHelp:a,fallbackLoaded:r}=(0,x.useSelect)((n=>({help:n(pe.HELP_STORE_NAME).getHelp(e),isLoaded:n(pe.HELP_STORE_NAME).hasFinishedResolution("getHelp",[e]),fallbackHelp:t?n(pe.HELP_STORE_NAME).getHelp(t):[],fallbackLoaded:!t||n(pe.HELP_STORE_NAME).hasFinishedResolution("getHelp",[t])})));if(!s||!r)return null;const o=(0,m.groupBy)([...n,...a],"type");return(0,i.createElement)(React.Fragment,null,(0,i.createElement)(fe,{title:(0,l.__)("Help Center","better-wp-security"),icon:"sos",link:"https://help.ithemes.com/hc/en-us/categories/200147050/",items:o.hc}),(0,i.createElement)(fe,{title:(0,l.__)("Blog","better-wp-security"),icon:"book-alt",link:"https://ithemes.com/blog/",items:o.post}),(0,i.createElement)(fe,{title:(0,l.__)("Video","better-wp-security"),icon:"youtube",link:"https://www.youtube.com/channel/UCYSDQEcxAppePTn5E7iNpFg",items:o.video}))}function fe({title:e,icon:t,link:n,items:s}){return(0,i.createElement)(r.Card,{className:d()("itsec-help-list-section",{"itsec-help-list-section--has-content":!!s})},(0,i.createElement)("header",null,(0,i.createElement)("a",{href:n},(0,i.createElement)(r.Dashicon,{icon:t,className:"itsec-help-list-section__icon"}),(0,i.createElement)("h3",null,e),(0,i.createElement)(r.Dashicon,{icon:"arrow-right-alt",className:"itsec-help-list-section__more"}))),(0,i.createElement)("section",null,s?s.map((e=>(0,i.createElement)("article",{key:e.title},(0,i.createElement)("a",{href:e.link},(0,i.createElement)("h4",null,e.title),(0,i.createElement)(_e,{content:e.description,tagName:"p"}))))):(0,i.createElement)("p",null,(0,l.__)("No relevant content at this time.","better-wp-security"))))}var Ee=n(15013),ye=n(54625);function _e({transform:e,...t}){return(0,i.createElement)(Ee.VK,(0,k.A)({},t,{transform:(n,s)=>{if(e){const t=e(n,s);if(void 0!==t)return t}if("a"===n.tagName.toLowerCase()&&n.dataset.itsecPath&&!t.noHtml)return(0,i.createElement)(ye.N_,{to:n.dataset.itsecPath},s)}}))}}}]);